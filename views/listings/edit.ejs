<% layout("/layout/boilerplate.ejs") %>
<div class="row">
    <div class="col-8 offset-2">
        <body>
            <br><br>
            <h3 class="text-light">Add New Item</h3>
            <form method="POST" action="/menu/<%= listing._id %>?_method=PUT"  novalidate class="needs-validation" novalidate>
                <div class="form-group">
                    <label for="title" class="form-label text-light">Title</label>
                    <input type="text" name="listing[title]" placeholder="Enter title" class="form-control bg bg-dark" value="<%= listing.title %> "required>
                    <div class="valid-feedback text-light">Your title looks good</div>
                </div>
                <div class="form-group">
                    <label for="description" class="form-label text-light">Description</label>
                    <textarea name="listing[description]" placeholder="Enter description" class="form-control bg bg-dark"  required><%= listing.description %></textarea>
                </div>

                <div class="row">
                    <div class="form-group col-md-4">
                        <label for="price" class="form-label text-light">Price</label>
                        <input type="number" name="listing[price]" placeholder="Enter price" class="form-control bg bg-dark" value="<%= typeof listing.price === 'number' ? listing.price : '' %>" required>
                        <div class="invalid-feedback text-light">Please enter a valid price</div>
                    </div>

                    <div class="form-group">
                        <label for="image" class="form-label text-light">Upload Listing Image</label>
                        <input type="file" name="listing[image]" class="text-light">
                    </div>
                </div>

                <div class="row">
                    <div class="form-group col-md-4">
                        <label for="category" class="form-label text-light">Category</label>
                        <input type="text" name="listing[category]" placeholder="Enter category" class="form-control bg bg-dark" value="<%= listing.category %> "required>
                        <div class="invalid-feedback text-light bg bg-dark">Please enter a valid category</div>
                    </div>
                </div>

                <br><br>
                <button class="btn btn-dark add-btn text-light">Add</button>
            </form>
        </body>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

